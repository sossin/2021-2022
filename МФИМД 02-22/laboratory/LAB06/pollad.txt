
import sympy
from colorama import Fore
import math

# функция для генерации основные факторы
def pollard(n):
    #  определяющая основа
    a = 2

    # определяющий показатель
    i = 2

    # повторяйте до тех пор, пока не будет получен простой множитель
    while (True):

        # # вычисление a по мере необходимости
        a = (a ** i) % n

        # нахождение gcd из a-1 и n
        # использование математической функции
        d = math.gcd((a - 1), n)

        # проверьте, получен ли коэффициент
        if (d > 1):
            # вернуть коэффициент
            return d

            break

        # еще увеличьте показатель на единицу
        # для следующего раунда
        i += 1

print("метод Полларда для разложения на множители")
print()
print("номер, рекомендованный преподаватель: 1359331" )
n = int(input(Fore.YELLOW+"Introduce un numero: "))


# временное хранение n
num = n

# список для хранения простых множителей
ans = []

# повторяется до тех пор, пока все простые множители
# получены
while (True):

    # вызов функции
    d = pollard(num)

    # добавить полученный коэффициент в список
    ans.append(d)

    # уменьшить n
    r = int(num / d)

    # проверьте наличие прайма с помощью sympy
    if (sympy.isprime(r)):

        # получены оба простых множителя
        ans.append(r)

        break

    # reduced n is not prime, so repeat
    else:

        num = r

# распечатайте результат
print("los factores primos de", n, "sin", *ans)